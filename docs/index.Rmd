
<h4 style="color:#495057; font-weight: bold;  text-align: left">Workflow for aquatic respirometry analyis using R</h4>

>This site describes the utility of R functions in short we call "AnalyzeResp." These are custom-written functions to analyze experimentally collected oxygen consumption data of aquatic animals. "AnalyzeResp" is an active passion-driven project. The function outputs continue to be modified and revised to improve visual and contextual clarity. The function inputs and arguments are streamlined to improve every user's experience. The community using these functions is growing, and I strive to provide a positive experience to everyone and welcome all feedback for improvement. 

>The maintenance and development of "AnalyzeResp" is lead by Krista Kraskura, a recent graduate from UCSB. However, this would not be possible without the valuable advice and support from the community: [Erika Eliason's Lab](https://erikaeliason.com/), and collaborators. 


<div class="well">
Transparent and open-source work is a priority. The provided set of functions is currently not formatted as a package in R, the work is in progress. Here provided are a) documentation for each function, b) a troubleshooting page, and c) supplementary background information to facilitate the use of the functions. 

I welcome all questions regarding the use of these functions and happily will facilitate the use of "AnalyzeResp." Users will be notfie when the functions can be installed directly from GitHub as a library.

</div>

<p style="color: #255625; font-weight: bold;  text-align: left"> NOT published on CRAN   ///   License: MIT  ///  Currently under development</p>

---------------------------------------------------------------------

<h4 style="color:#495057; font-weight: bold;  text-align: left"> The Community</h4>

"AnalyzeResp" incorporates analytical approaches described by Chabot, D., Steffensen, J. F. and Farrell, A. P. (2016) The determination of the standard metabolic rate in fishes. Journal of Fish Biology 88, 81-121. [Link](https://onlinelibrary.wiley.com/doi/10.1111/jfb.12845)

All work herein is inspired by projects and package developers providing similar analysis workflows:

- **Automatic Aquatic Respirometry - AquaResp ®** [Project on ResearchGate](https://www.researchgate.net/project/Automatic-Aquatic-Respirometry-AquaResp-R)
- **RespR** by Januar Harianto & Nicholas Carey [Web](https://januarharianto.github.io/respR/index.html)
- **respirometry** by Matthew A. Birk [CRAN](https://cran.r-project.org/web/packages/respirometry/index.html)
- **fishMO2** by Denis Chabot [GitHub](https://github.com/denis-chabot/fishMO2)
- **rMR** by Tyler L. Moulton [CRAN](https://cran.r-project.org/web/packages/rMR/index.html)
- **FishResp** by Sergey Morozov & R.J. Scott McCairns [CRAN](https://cran.r-project.org/web/packages/FishResp/index.html)

<br>
<h4 style="color:#495057; font-weight: bold;  text-align: left">Kickstart</h4> 

- Fork the repository from [GitHub](https://github.com/kraskura/AnalyzeResp_0) directly. Or download an R script with functions: [https://github.com/kraskura/AnalyzeResp_0.git](https://github.com/kraskura/AnalyzeResp_0.git)
- Use the demo tutorials to guide data analyses
- Use the troubleshooting page for help
- Annotated R script providing example for analysis is available [here](https://github.com/kraskura/AnalyzeResp_0/blob/main/R/Test_AnalyzeResp_0_clean.R).
- Emails are welcome and encouraged when getting stuck at any steps, happy to hear from all

- Please give citation credit if using code and materials from this GitHub Repository
- Please give citation credit to two methods papers as the analysis enabled by "AnalyzeResp" hinges on their research:
    - Chabot, D., Steffensen, J. F. and Farrell, A. P. (2016) The determination of the standard metabolic rate in fishes. Journal of Fish Biology 88, 81-121. 
    - Little, A.G., Dressler, T., Kraskura, K., Hardison, E., Hendriks, B., Prystay, T., Farrell, A.P., Cooke, S.J., Patterson, D.A., Hinch, S.G., Eliason, E.J., 2020. Maxed Out: Optimizing Accuracy, Precision, and Power for Field Measures of Maximum Metabolic Rate in Fishes. Physiological and Biochemical Zoology 93, 243–254. [link](https://doi.org/10.1086/708673)

- Lasty, if you are using the provided functions and your work is not on this <a href="./references.html" >reference list</a>, please reach out. I will be pleased to add it. Thank you to the community.

 <br>
<h4 style="color:#495057; font-weight: bold;  text-align: left"> What does AnalyzeResp do? </h4>

Originally, the provided R functions were written to analyze experimental data measured using [Firesting multichannel](https://www.pyroscience.com/en/263) oxygen sensors from Pyroscience. However, the code can be easily adapted for use with any other setup (more soon; please email, and I will help to make needed adjustments).

**A quick overview:**

First, oxygen consumption rates (raw data with time, O~2~ levels in the water, temperature, etc.) are recorded in an animal using respirometry methods. The raw (.txt) data file is saved and used in further used in <a href="./txt_csv_convert.html" >txt_csv_convert</a> function, which will reduce the file to few columns necessary to estimate oxygen uptake rates in an animal.
Then, several functions in a progressive sequence are used to estimate individual oxygen uptake rates (a proxy of metabolic rate). Lastly, a suite of ecologically valuable performances can be estimated: Maximum metabolic rates (MMR), Standard (and Resting) metabolic rates (SMR and RMR), Absolute Aerobic scope (AAS), various aerobic recovery performance metrics, and digestion costs. 

**Pros:**

- The ability to visualize data along various progressive steps of analysis
- The ability to perform user-specific quality control (e.g., exclude small sections of non-biologically relevant data recordings)
- The ability to reproduce work
- The ability to save locally and access input and output files in a user-specified directory (default, optional).

**Cons:**

- It is not currently accessible as a library or R package 
- Relatively steep learning curve
- The names of variables and function arguments can be challenging to keep track of. This will be improved for the next iteration.

**Imported libraries:** 
```
rMR, ggplot2, gridExtra, chron, lubridate, dplyr, pryr, ggpubr, magrittr, tidyr ,broom, purrr, mclust, data.table, stringr, DescTools
```