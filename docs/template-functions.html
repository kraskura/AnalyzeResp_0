<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>template-functions</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">AnalyzeResp</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="functions.html">Functions</a>
</li>
<li>
  <a href="tutorials-main.html">Demos &amp; Vocab</a>
</li>
<li>
  <a href="troubleshooting.html">Troubleshoting</a>
</li>
<li>
  <a href="references.html">References</a>
</li>
<li>
  <a href="progressNotes.html">Updates</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Resources
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="about.html">Aquatic respiromtery</a>
    </li>
    <li>
      <a href="QC_protocol.html">QC protocols</a>
    </li>
    <li>
      <a href="workshops.html">Workshops</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:&lt;kkraskura@ucsb.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/kraskura/">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<div class="page-header">
<h2 style="font-size: 30px; text-align:left;">
function
</h2>
<p>
Source: <a href = "#" style = "color:gray;">kraskura/AnalyzeResp_0</a>
</p>
</div>
<p><br> <code>function</code> &lt;br</p>
<h4 style="color:#495057; font-weight: bold;  text-align: left">
About
</h4>
<ul class="breadcrumb" style="background-color:#fff; border:none; color:#3e3f3a">
<li>
<a href="#Arguments">Arguments</a>
</li>
<li>
<a href="#Value">Value</a>
</li>
<li>
<a href="#Details">Details</a>
</li>
<li>
<a href="#Example">Example</a>
</li>
<li>
<a href="#"><i class="fas fa-download"></i>  See datafiles on GitHub</a>
</li>
</ul>
<h4 style="color:#495057; font-weight: bold;  text-align: left">
Description
</h4>
<!-- <h4 style="color:#495057; font-weight: bold;  text-align: left">Before running the SMR function </h4><br> -->
<h4>
<a style="color:#495057; font-weight: bold;  text-align: left" name="Arguments">Arguments</a>
</h4>
<table>
<thead>
<tr class="header">
<th align="right">Argument</th>
<th align="left">Description</th>
<th align="left">Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h4>
<a name="Value" style="color:#495057; font-weight: bold;  text-align: left">Value</a>
</h4>
<p><br></p>
<h4>
<a name="Details" style="color:#495057; font-weight: bold;  text-align: left">Details</a>
</h4>
<p><br></p>
<h5 style="color:#495057; font-weight: bold;  text-align: left; text-indent:+10px;">
<i class="fas fa-ellipsis-h"></i>  If enabling automatic output file distribution in local directories
</h4>
<h5 style="color:#495057; font-weight: bold;  text-align: left; text-indent:+10px;">
<i class="fas fa-ellipsis-h"></i>  Data outputs
</h4>
<ol style="list-style-type: decimal">
<li>.csv files</li>
<li>.png files</li>
</ol>
<br>
<h5 style="color:#495057; font-weight: bold;  text-align: left; text-indent:+10px;">
<i class="fas fa-ellipsis-h"></i>  Messages on Console
</h4>
<br>
<h5 style="color:#495057; font-weight: bold;  text-align: left; text-indent:+10px;">
<i class="fas fa-ellipsis-h"></i>  Support functions for SMR
</h5>
<ul>
<li>`` Arguments: <a style="color:grey"> </a></li>
<li>`` Arguments: <a style="color:grey"></a></li>
<li><code>C</code> Arguments: <a style="color:grey"> </a></li>
</ul>
<br>
<h4>
<a name="Example" style="color:#495057; font-weight: bold;  text-align: left">Example</a>
</h4>
<p><br></p>
<pre class = "sourceCode yaml"> 


example
example
example
example




</pre>
<div id="convert-raw-firesting-data-files-to-a-usable-format" class="section level4">
<h4>2. Convert raw FireSting data files to a usable format</h4>
<p><strong>Function</strong>: <code>txt_csv_convert</code></p>
<p>The original FireSting datafiles are in <em>.txt</em> format and cannot be used with this analysis package. Use this function to convert <em>.txt</em> files into a <em>.csv</em> format that can be used in the next steps. Note, this function only takes a portion of data available in the original file.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>txt_file</td>
<td>The original <em>.txt</em> file from FireSting. No default</td>
</tr>
<tr class="even">
<td>N_Ch</td>
<td>The number of FireSting channels. Options include 2, 4, 8. Note, if either a 2- or 4-Channel FireSting was used, this argument can be ignored. Default = <code>4</code></td>
</tr>
<tr class="odd">
<td>path</td>
<td>Specify the folder where all converted <em>.csv</em> files will be saved. It can be either <code>AUTO</code>, <code>MANUAL</code>, <code>BACTERIAL_RESP</code>, or <code>SDA</code>. The default is a local directory (<code>"."</code>)</td>
</tr>
</tbody>
</table>
</div>
<div id="need-splitting-data-files" class="section level4">
<h4>3. Need splitting data files?</h4>
<p><strong>Function</strong>: <code>csv_file_split</code></p>
<p>Use this function to split your files in 2 parts at a defined time point. Most commonly this is needed when MMR and SMR parts are together in one file. For example, when manually controlled part of the data recording (manually initiated flush:measure cycles; typically MMR) is immediately followed by automatic data recording (auto timer controlled flush:measure cycles; typically SMR/RMR). These two parts are analyzed using different functions and so need to be in different <em>.csv</em> files.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data</td>
<td>Data <em>.csv</em> to be split in two (manual/MMR and auto/SMR <em>.csv</em> files). Input must be a character. No default</td>
</tr>
<tr class="even">
<td>split_data_name</td>
<td>The name that will be used to save all output files. Input must be a character. No default</td>
</tr>
<tr class="odd">
<td>cycle_full_min</td>
<td>cycle length (min) that the auto file was run on, this includes both flush + measure; no default. No default</td>
</tr>
<tr class="even">
<td>timeSplit</td>
<td>The time at which the file will be split in two (the split time (min)). This time will be shown in output plots. No default</td>
</tr>
<tr class="odd">
<td>date_format</td>
<td>The date format. It must be provided, and can be either: <code>"m/d/y"</code>, <code>"d/m/y"</code>, <code>"y-m-d"</code>. The Default = <code>NULL</code></td>
</tr>
<tr class="even">
<td>split</td>
<td>Logical argument. When <code>TRUE</code> the original file will be cut and 2 <em>.csv</em> saved in the local directory. Default=FALSE</td>
</tr>
<tr class="odd">
<td>N_Ch</td>
<td>The number of FireSting channels. Options include 2, 4, 8. Note, if either a 2- or 4-Channel FireSting was used, this argument can be ignored. Default = <code>4</code></td>
</tr>
</tbody>
</table>
</div>
<div id="combining-multiple-smr-or-auto-data-files" class="section level4">
<h4>4. Combining multiple SMR or AUTO data files</h4>
<p><strong>Function</strong>: <code>combine_smr</code></p>
<p>There may be more than one AUTO file recorded for one respirometry trial. Use this function to combine them all together to then calculate SMR/RMR using all measurement cycle values, and to measure recovery.</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>smr_files</td>
<td>A character vector of _…<em>analyzed.csv</em> . These are output files from <code>SMR</code> function. 2 or more files must be specified. No default</td>
</tr>
<tr class="even">
<td>date_format</td>
<td>The date format used in the original FireSting files. Must specify one of the following: <code>c("m/d/y","d/m/y","y-m-d")</code></td>
</tr>
<tr class="odd">
<td>path</td>
<td>Specify working directory for all output files. This argument has two options, i) files can be automatically organized in newly created folders, any character may be used, ii) the default is a local directory (<code>"."</code>).</td>
</tr>
</tbody>
</table>
</div>
<div id="understanding-system-wide-background-respiration-rates" class="section level4">
<h4>5. Understanding system-wide background respiration rates</h4>
<p><strong>Function</strong>: <code>sum_backgr</code></p>
<p>This function summarises many background files. It is useful when trying to better understand system-wide respiration rate. For example, it may be used to explore the variability of background respiration rates between different respirometry chambers, or to explore overtime trends. This is shorthand way to get background MO2 <a style="color:grey">mgO2/L/h<a> through <code>MMR_SMR_AS_EPOC</code> function. <em>Note: this is a developing function</em></p>
<table>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data</td>
<td>Data file _…<em>analyzed.csv</em> of respiration . No default</td>
</tr>
<tr class="even">
<td>Ch</td>
<td>Specify Channels for analysis. A numeric vector. No default</td>
</tr>
<tr class="odd">
<td>resp.ID</td>
<td>A character vector with respiromtery IDs. No default</td>
</tr>
<tr class="even">
<td>resp.Vol</td>
<td>A numeric vector of respirometry volumes. No default</td>
</tr>
</tbody>
</table>
<p>
 
</p>
<h3 style="color:white; background-color: #4682B4; font-weight: bold;  text-align: center">
Maximum metabolic rate, MMR
</h3>
</div>
<div id="estimating-digestion-costs." class="section level4">
<h4>9. Estimating digestion costs.</h4>
<p><strong>Function</strong>: <code>SDA</code></p>
<p>Clearly still working on this…</p>
<table>
<colgroup>
<col width="63%" />
<col width="36%" />
</colgroup>
<thead>
<tr class="header">
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>data.SDA</td>
<td>= <code>NULL</code></td>
</tr>
<tr class="even">
<td>analyzed_MR</td>
<td>= NULL</td>
</tr>
<tr class="odd">
<td>SMR_calc</td>
<td>= TRUE,</td>
</tr>
<tr class="even">
<td>SMR_vals</td>
<td>= c(NA, NA, NA, NA),</td>
</tr>
<tr class="odd">
<td>sda_threshold</td>
<td>= c(“SMR_mean10minVal”,“SMR_low10quant”, “SMR_low15quant”, “SMR_low20quant”, “smr_mlnd”, “SMR_vals”),</td>
</tr>
<tr class="even">
<td>AnimalID</td>
<td>No default</td>
</tr>
<tr class="odd">
<td>BW.animal</td>
<td>No default</td>
</tr>
<tr class="even">
<td>resp.V</td>
<td>No default</td>
</tr>
<tr class="odd">
<td>r2_threshold_smr</td>
<td>No default</td>
</tr>
<tr class="even">
<td>date_format</td>
<td>= c(“m/d/y”,“d/m/y”,“y-m-d”),</td>
</tr>
<tr class="odd">
<td>drop_ch</td>
<td>= NULL,</td>
</tr>
<tr class="even">
<td>N_Ch</td>
<td>= 4,</td>
</tr>
<tr class="odd">
<td>MLND</td>
<td>= TRUE,</td>
</tr>
<tr class="even">
<td>background_prior</td>
<td>= NA,</td>
</tr>
<tr class="odd">
<td>background_post</td>
<td>= NA,</td>
</tr>
<tr class="even">
<td>background_slope</td>
<td>= NULL,</td>
</tr>
<tr class="odd">
<td>background.V</td>
<td>= NULL</td>
</tr>
<tr class="even">
<td>background_linear_gr</td>
<td>= FALSE</td>
</tr>
<tr class="odd">
<td>match_background_Ch</td>
<td>= FALSE,</td>
</tr>
<tr class="even">
<td>path</td>
<td>= “.”,</td>
</tr>
<tr class="odd">
<td>feeding_delay</td>
<td>= 0)</td>
</tr>
</tbody>
</table>
<p>Supplementary to SDA function: - <code>SDA.spar</code> Arguments: spar,d, SDAdata, b, peak_SDA_all, time_peak_SDA_all, sda_threshold</p>
<h3 style="color:white; background-color: #4682B4; font-weight: bold;  text-align: center">
Miscellaneous functions, old work
</h3>
<ol start="9" style="list-style-type: decimal">
<li><p>MMRslide_tunnel&lt;-function(file)</p></li>
<li><p>calcSMR = function(Y, q=c(0.1,0.15,0.2,0.25,0.3), G=1:4) sourced from <a href="https://doi.org/10.1111/jfb.12845">Chabot et al 2016</a></p></li>
</ol>
</div>

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<div>
    <ul class = "pull-left" style = "color:grey; text-align:left;"> Built using <a href="https://bootswatch.com/3/sandstone/">Bootsrap 3</a>, Powered by Github pages</ul>
    <!-- <ul class = "pull-right" href="#top" style = "color:rgb(109, 95, 95);"> Back to top</ul> -->
</div>






</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
